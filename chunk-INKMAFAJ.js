import{$ as D,A as o,C as v,D as _,E as b,F as M,H as w,I as V,N as I,P as F,S as N,T as x,U as T,V as W,W as B,X as k,Y as q,Z as R,_ as A,h as l,i as s,ja as L,l as m,n as c,o as C,q as S,s as g,t as n,u as e,w as h,x as y,z as f}from"./chunk-UPMWYT7C.js";function P(d,r){d&1&&(n(0,"div",16),o(1," Name is required. "),e())}function U(d,r){d&1&&(n(0,"div",16),o(1," Valid age is required. "),e())}function G(d,r){d&1&&(n(0,"div",16),o(1," Department is required. "),e())}var j=class d{constructor(r,p,i,a){this.route=r;this.studentService=p;this.router=i;this.location=a}studentForm;studentId=0;student={id:0,name:"",age:0,department:""};ngOnInit(){this.studentId=Number(this.route.snapshot.paramMap.get("id")),this.studentService.getStudentById(this.studentId).subscribe({next:r=>this.student=r,error:r=>{console.error(r),alert("Student not found!")}})}onUpdate(){this.studentService.updateStudent(this.student.id,this.student).subscribe({next:()=>{alert("Student updated successfully!"),this.router.navigate(["/students"])},error:r=>{alert("Update failed"),console.error(r)}})}goBack(){this.location.back()}static \u0275fac=function(p){return new(p||d)(c(I),c(L),c(F),c(M))};static \u0275cmp=C({type:d,selectors:[["app-edit-student"]],decls:27,vars:7,consts:[["studentForm","ngForm"],["name","ngModel"],["age","ngModel"],["department","ngModel"],[1,"container","mt-4"],[3,"ngSubmit"],[1,"mb-3"],["for","name"],["type","text","id","name","name","name","required","",1,"form-control",3,"ngModelChange","ngModel"],["class","text-danger",4,"ngIf"],["for","age"],["type","number","id","age","name","age","required","","min","1",1,"form-control",3,"ngModelChange","ngModel"],["for","department"],["type","text","id","department","name","department","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-primary","me-2",3,"disabled"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"text-danger"]],template:function(p,i){if(p&1){let a=h();n(0,"div",4)(1,"h3"),o(2,"\u270F\uFE0F Edit Student"),e(),n(3,"form",5,0),y("ngSubmit",function(){return l(a),s(i.onUpdate())}),n(5,"div",6)(6,"label",7),o(7,"Name:"),e(),n(8,"input",8,1),b("ngModelChange",function(t){return l(a),_(i.student.name,t)||(i.student.name=t),s(t)}),e(),S(10,P,2,0,"div",9),e(),n(11,"div",6)(12,"label",10),o(13,"Age:"),e(),n(14,"input",11,2),b("ngModelChange",function(t){return l(a),_(i.student.age,t)||(i.student.age=t),s(t)}),e(),S(16,U,2,0,"div",9),e(),n(17,"div",6)(18,"label",12),o(19,"Department:"),e(),n(20,"input",13,3),b("ngModelChange",function(t){return l(a),_(i.student.department,t)||(i.student.department=t),s(t)}),e(),S(22,G,2,0,"div",9),e(),n(23,"button",14),o(24," Update Student "),e(),n(25,"button",15),y("click",function(){return l(a),s(i.goBack())}),o(26," Back "),e()()()}if(p&2){let a=f(4),u=f(9),t=f(15),E=f(21);m(8),v("ngModel",i.student.name),m(2),g("ngIf",u.invalid&&u.touched),m(4),v("ngModel",i.student.age),m(2),g("ngIf",t.invalid&&t.touched),m(4),v("ngModel",i.student.department),m(2),g("ngIf",E.invalid&&E.touched),m(),g("disabled",!a.form.valid)}},dependencies:[V,w,D,k,N,q,x,T,A,R,B,W],encapsulation:2})};export{j as EditStudentComponent};
