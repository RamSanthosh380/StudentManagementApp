import{$ as O,A as i,B as c,C as v,D as C,E,G as w,I as M,P as T,R as y,S as D,T as I,W as k,h as p,ha as A,i as S,ja as F,l as a,n as m,o as g,q as h,s as x,t,u as e,v as b,w as _,x as u,y as f}from"./chunk-UPMWYT7C.js";function N(s,r){if(s&1){let n=_();t(0,"tr")(1,"td"),i(2),e(),t(3,"td"),i(4),e(),t(5,"td"),i(6),e(),t(7,"td"),i(8),e(),t(9,"td")(10,"button",8),u("click",function(){let l=p(n).$implicit,d=f();return S(d.editStudent(l.id))}),i(11,"Edit"),e(),t(12,"button",9),u("click",function(){let l=p(n).$implicit,d=f();return S(d.onDelete(l.id))}),i(13,"Delete"),e()()()}if(s&2){let n=r.$implicit;a(2),c(n.id),a(2),c(n.name),a(2),c(n.age),a(2),c(n.department)}}var P=class s{constructor(r,n,o){this.studentService=r;this.router=n;this.toastr=o}students=[];searchText="";ngOnInit(){this.loadStudents()}loadStudents(){this.studentService.getAll().subscribe({next:r=>{this.students=r},error:()=>{this.toastr.error("Failed to load students.","Error")}})}get filteredStudents(){return this.students.filter(r=>r.name.toLowerCase().includes(this.searchText.toLowerCase())||r.department.toLowerCase().includes(this.searchText.toLowerCase()))}editStudent(r){this.router.navigate(["/edit",r])}navigateToAddStudent(){this.router.navigate(["/add"])}onDelete(r){confirm("Are you sure you want to delete this student?")&&this.studentService.deleteStudent(r).subscribe({next:()=>{this.toastr.success("Student deleted successfully.","Success"),this.loadStudents()},error:o=>{console.error("Delete error:",o),this.toastr.error("Failed to delete student.","Error")}})}static \u0275fac=function(n){return new(n||s)(m(F),m(T),m(A))};static \u0275cmp=g({type:s,selectors:[["app-student"]],decls:23,vars:2,consts:[[1,"container","mt-4"],[1,"btn","btn-primary",3,"click"],[1,"fa","fa-plus"],[2,"margin-bottom","10px"],["type","text","placeholder","search by name or department",1,"search-box",3,"ngModelChange","ngModel"],[1,"table","table-bordered"],[1,"table-dark"],[4,"ngFor","ngForOf"],[1,"btn","btn-warning","btn-sm",3,"click"],[1,"btn","btn-danger","btn-sm","ms-2",3,"click"]],template:function(n,o){n&1&&(t(0,"div",0)(1,"h1"),i(2,"\u{1F393} Student Management App"),e(),t(3,"button",1),u("click",function(){return o.navigateToAddStudent()}),b(4,"i",2),i(5,` Add Student
`),e(),t(6,"div",3)(7,"input",4),E("ngModelChange",function(d){return C(o.searchText,d)||(o.searchText=d),d}),e()(),t(8,"table",5)(9,"thead",6)(10,"tr")(11,"th"),i(12,"ID"),e(),t(13,"th"),i(14,"Name"),e(),t(15,"th"),i(16,"Age"),e(),t(17,"th"),i(18,"Department"),e(),t(19,"th"),i(20,"Actions"),e()()(),t(21,"tbody"),h(22,N,14,4,"tr",7),e()()()),n&2&&(a(7),v("ngModel",o.searchText),a(15),x("ngForOf",o.filteredStudents))},dependencies:[M,w,y,O,D,I,k],styles:["table[_ngcontent-%COMP%]{border-collapse:collapse;width:80%;margin-top:10px}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{border:1px solid #ccc;padding:8px}th[_ngcontent-%COMP%]{background-color:#eee}.search-box[_ngcontent-%COMP%]{padding:6px;width:250px;border:1px solid #ccc;border-radius:5px}"]})};export{P as StudentComponent};
